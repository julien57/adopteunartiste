{% extends 'base_profil.html.twig' %}

{% block start_body %}
    <div id="popapp"></div>
{% endblock %}

{% block body %}

    <!-- SECTION FILTERS BAR -->
    <div class="section-filters-bar v1">
        <!-- SECTION FILTERS BAR ACTIONS -->
        <div class="section-filters-bar-actions">
            <!-- FORM -->
            {{ form_start(form) }}
            <!-- FORM INPUT -->
            <div class="form-input small with-button">
                {{ form_row(form.searchUser) }}
                <!-- BUTTON -->
                <button class="button primary">
                    <!-- ICON MAGNIFYING GLASS -->
                    <svg class="icon-magnifying-glass">
                        <use xlink:href="#svg-magnifying-glass"></use>
                    </svg>
                    <!-- /ICON MAGNIFYING GLASS -->
                </button>
                <!-- /BUTTON -->
            </div>
            {{ form_end(form) }}
            <!-- /FORM -->

            <!-- FILTER TABS -->
            <div class="filter-tabs">
                <!-- FILTER TAB -->
                <div class="filter-tab {% if app.request.attributes.get('_route') == 'front_general_members_new' %}active{% endif %}">
                    <!-- FILTER TAB TEXT -->
                    <a href="{{ path('front_general_members_new') }}" class="filter-tab-text">Nouveaux</a>
                    <!-- /FILTER TAB TEXT -->
                </div>
                <!-- /FILTER TAB -->

                <!-- FILTER TAB -->
                <div class="filter-tab {% if app.request.attributes.get('_route') == 'front_groups_members_actifs' %}active{% endif %}">
                    <!-- FILTER TAB TEXT -->
                    <a href="{{ path('front_groups_members_actifs') }}" class="filter-tab-text">Plus actifs</a>
                    <!-- /FILTER TAB TEXT -->
                </div>
                <!-- /FILTER TAB -->

                <!-- FILTER TAB -->
                <div class="filter-tab {% if app.request.attributes.get('_route') == 'front_groups_members_alphabetic' %}active{% endif %}">
                    <!-- FILTER TAB TEXT -->
                    <a href="{{ path('front_groups_members_alphabetic') }}" class="filter-tab-text">Alphabétique</a>
                    <!-- /FILTER TAB TEXT -->
                </div>
                <!-- /FILTER TAB -->
            </div>
            <!-- /FILTER TABS -->
        </div>
        <!-- /SECTION FILTERS BAR ACTIONS -->


    </div>
    <!-- /SECTION FILTERS BAR -->

    <!-- GRID -->
    <div class="grid grid-4-4-4 centered">
        {% for user in users %}
            <!-- USER PREVIEW -->
            <div class="user-preview">
                <!-- USER PREVIEW COVER -->
                <figure class="user-preview-cover liquid">
                    <img src="{% if user.cover %}{{ asset( constant('App\\Services\\File\\UploadFile::COVERUPLOAD_DIR')) ~ user.cover }}{% else %}{{ asset('/img/avatar/01.jpg') }}{% endif %}" alt="cover-04">
                </figure>
                <!-- /USER PREVIEW COVER -->

                <!-- USER PREVIEW INFO -->
                <div class="user-preview-info">
                    <!-- USER SHORT DESCRIPTION -->
                    <div class="user-short-description">
                        <!-- USER SHORT DESCRIPTION AVATAR -->
                        <a class="user-short-description-avatar user-avatar medium" href="{{ path('front_profil_user', {'pseudo': user.pseudo}) }}">
                            <!-- USER AVATAR BORDER -->
                            <div class="user-avatar-border">
                                <!-- HEXAGON -->
                                <div class="hexagon-120-132"></div>
                                <!-- /HEXAGON -->
                            </div>
                            <!-- /USER AVATAR BORDER -->

                            <!-- USER AVATAR CONTENT -->
                            <div class="user-avatar-content">
                                <!-- HEXAGON -->
                                <div class="hexagon-image-82-90" data-src="{% if user.avatar %}{{ asset( constant('App\\Services\\File\\UploadFile::AVATAR_UPLOAD_DIR')) ~ user.avatar }}{% else %}{{ asset('img/avatar/01.jpg') }}{% endif %}"></div>
                                <!-- /HEXAGON -->
                            </div>
                            <!-- /USER AVATAR CONTENT -->

                            <!-- USER AVATAR PROGRESS -->
                            <div class="user-avatar-progress">
                                <!-- HEXAGON -->
                                <div class="hexagon-progress-100-110"></div>
                                <!-- /HEXAGON -->
                            </div>
                            <!-- /USER AVATAR PROGRESS -->

                            <!-- USER AVATAR PROGRESS BORDER -->
                            <div class="user-avatar-progress-border">
                                <!-- HEXAGON -->
                                <div class="hexagon-border-100-110"></div>
                                <!-- /HEXAGON -->
                            </div>
                            <!-- /USER AVATAR PROGRESS BORDER -->

                            <!-- USER AVATAR BADGE -->
                            <div class="user-avatar-badge">
                                <!-- USER AVATAR BADGE BORDER -->
                                <div class="user-avatar-badge-border">
                                    <!-- HEXAGON -->
                                    <div class="hexagon-32-36"></div>
                                    <!-- /HEXAGON -->
                                </div>
                                <!-- /USER AVATAR BADGE BORDER -->

                                <!-- USER AVATAR BADGE CONTENT -->
                                <div class="user-avatar-badge-content">
                                    <!-- HEXAGON -->
                                    <div class="hexagon-dark-26-28"></div>
                                    <!-- /HEXAGON -->
                                </div>
                                <!-- /USER AVATAR BADGE CONTENT -->

                                <!-- USER AVATAR BADGE TEXT -->
                                <p class="user-avatar-badge-text">12</p>
                                <!-- /USER AVATAR BADGE TEXT -->
                            </div>
                            <!-- /USER AVATAR BADGE -->
                        </a>
                        <!-- /USER SHORT DESCRIPTION AVATAR -->

                        <!-- USER SHORT DESCRIPTION TITLE -->
                        <p class="user-short-description-title"><a href="{{ path('front_profil_user', {'pseudo': user.pseudo}) }}">{{ user.pseudo }}</a></p>
                        <!-- /USER SHORT DESCRIPTION TITLE -->

                        <!-- USER SHORT DESCRIPTION TEXT -->
                        <p class="user-short-description-text">{{ user.domainArtist.title }}</p>
                        <!-- /USER SHORT DESCRIPTION TEXT -->
                    </div>
                    <!-- /USER SHORT DESCRIPTION -->

                    <!-- BADGE LIST -->

                    <!-- /BADGE LIST -->

                    <!-- USER PREVIEW STATS SLIDES -->
                    <div id="user-preview-stats-slides-01" class="user-preview-stats-slides">
                        <!-- USER PREVIEW STATS SLIDE -->
                        <div class="user-preview-stats-slide">
                            <!-- USER STATS -->
                            <div class="user-stats">
                                <!-- USER STAT -->
                                <div class="user-stat">
                                    <!-- USER STAT TITLE -->
                                    <p class="user-stat-title">{{ user.posts|length }}</p>
                                    <!-- /USER STAT TITLE -->

                                    <!-- USER STAT TEXT -->
                                    <p class="user-stat-text">posts</p>
                                    <!-- /USER STAT TEXT -->
                                </div>
                                <!-- /USER STAT -->

                                <!-- USER STAT -->
                                <div class="user-stat">
                                    <!-- USER STAT TITLE -->
                                    <p class="user-stat-title">{{ user.adopts|length }}</p>
                                    <!-- /USER STAT TITLE -->

                                    <!-- USER STAT TEXT -->
                                    <p class="user-stat-text">adopté{% if user.adopts|length > 1 %}s{% endif %}</p>
                                    <!-- /USER STAT TEXT -->
                                </div>
                                <!-- /USER STAT -->

                                <!-- USER STAT -->
                                <div class="user-stat">
                                    <!-- USER STAT TITLE -->
                                    <p class="user-stat-title">{{ user.nbVisit }}</p>
                                    <!-- /USER STAT TITLE -->

                                    <!-- USER STAT TEXT -->
                                    <p class="user-stat-text">visites</p>
                                    <!-- /USER STAT TEXT -->
                                </div>
                                <!-- /USER STAT -->
                            </div>
                            <!-- /USER STATS -->
                        </div>
                        <!-- /USER PREVIEW STATS SLIDE -->

                        <!-- USER PREVIEW STATS SLIDE -->
                        <!-- /USER PREVIEW STATS SLIDE -->
                    </div>
                    <!-- /USER PREVIEW STATS SLIDES -->


                    <!-- SOCIAL LINKS -->
                    <div class="social-links small">
                        <!-- SOCIAL LINK -->
                        {% if user.facebook %}
                                <a class="social-link facebook small" target="_blank" href="{{ user.facebook }}">
                                    <svg class="icon-facebook">
                                        <use xlink:href="#svg-facebook"></use>
                                    </svg>
                                </a>
                        {% endif %}

                        {% if user.twitter %}
                                <a class="social-link twitter small" target="_blank"  href="{{ user.twitter }}">
                                    <svg class="icon-twitter">
                                        <use xlink:href="#svg-twitter"></use>
                                    </svg>
                                </a>
                        {% endif %}

                        {% if user.instagram %}
                                <a class="social-link instagram small" target="_blank"  href="{{ user.instagram }}">
                                    <svg class="icon-instagram">
                                        <use xlink:href="#svg-instagram"></use>
                                    </svg>
                                </a>
                        {% endif %}

                        {% if user.twitch %}
                                <a class="social-link twitch small" target="_blank"  href="{{ user.twitch }}">
                                    <svg class="icon-twitch">
                                        <use xlink:href="#svg-twitch"></use>
                                    </svg>
                                </a>
                        {% endif %}

                        {% if user.youtube %}
                                <a class="social-link youtube small" href="{{ user.youtube }}">
                                    <svg class="icon-youtube">
                                        <use xlink:href="#svg-youtube"></use>
                                    </svg>
                                </a>
                        {% endif %}
                        <!-- /SOCIAL LINK -->
                    </div>
                    <!-- /SOCIAL LINKS -->

                    <!-- USER PREVIEW ACTIONS -->
                    <div class="user-preview-actions">
                        <!-- BUTTON -->
                        {% if post_adopt.getAdoptAxist(user, app.user) %}
                            <a href="{{ path('front_profil_remove_adopt_members', {'pseudo': user.pseudo}) }}" class="button secondary" style="color:white">Abandonner -</a>
                        {% else %}
                            <a href="{{ path('front_profil_add_adopt_members', {'pseudo': user.pseudo}) }}" class="button secondary" style="color:white">Adopter +</a>
                        {% endif %}
                        <!-- /BUTTON -->

                        <!-- BUTTON -->
                        <a href="{{ path('front_space_messaging_create', {'id': user.id}) }}" class="button primary">Ecrire un message</a>
                        <!-- /BUTTON -->
                    </div>
                    <!-- /USER PREVIEW ACTIONS -->
                </div>
                <!-- /USER PREVIEW INFO -->
            </div>
            <!-- /USER PREVIEW -->
        {% endfor %}
    </div>
    <!-- /GRID -->
    {% if users|length > 9 %}
        <div class="section-pager-bar pagintion pt-2" id="pagination">
            {{ knp_pagination_render(users) }}
        </div>
    {% endif %}

{% endblock %}
